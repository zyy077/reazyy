<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoundMini â€“ Biblioteca Azul</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#f0f5ff] text-gray-900 min-h-screen flex flex-col">

  <!-- NAVBAR ESTILO INSTAGRAM -->
  <header class="bg-white border-b sticky top-0 z-20">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">

      <h1 class="text-2xl font-bold text-blue-600 tracking-tight">
        SoundMini
      </h1>

      <input
        id="search"
        placeholder="Buscar mÃºsicas..."
        class="border border-blue-300 px-3 py-2 rounded-lg w-64 focus:ring focus:ring-blue-200 outline-none transition"
      />

      <button class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
        Upload
      </button>

    </div>
  </header>


  <!-- LISTA DE CARTÃ•ES -->
  <section class="max-w-6xl mx-auto px-4 py-6">

    <h2 class="text-xl font-semibold text-blue-700 mb-4">
      Escolha sua mÃºsica
    </h2>

    <div id="card-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </section>


  <!-- PAGINAS -->
  <section class="pb-36">
    <div class="flex justify-center gap-2">
      <button onclick="goPage(1)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">1</button>
      <button onclick="goPage(2)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">2</button>
      <button onclick="goPage(3)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">3</button>
      <button onclick="goPage(4)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">4</button>
      <button onclick="goPage(5)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">5</button>
      <button onclick="goPage(6)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">6</button>
      <button onclick="goPage(7)" class="px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-full hover:bg-blue-100">7</button>
    </div>
  </section>


  <!-- PLAYER AZUL FIXO -->
  <footer class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">

      <div id="player-info" class="flex items-center gap-3 w-64">
        <span class="text-gray-500 text-sm">Nenhuma faixa selecionada</span>
      </div>

      <div class="flex-1">
        <div class="bg-blue-100 h-2 rounded-full overflow-hidden">
          <div id="progress-bar" class="bg-blue-600 h-2 w-0"></div>
        </div>
      </div>

      <button id="play-btn" class="px-5 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-700 transition">
        Tocar
      </button>

      <audio id="audio"></audio>
    </div>
  </footer>


  <!-- SCRIPT -->
  <script>
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("play-btn");
    const playerInfo = document.getElementById("player-info");
    const progressBar = document.getElementById("progress-bar");
    const cardList = document.getElementById("card-list");

    let currentTrack = null;
    let currentPage = 1;

    // ðŸŽ§ 7 primeiras mÃºsicas especiais
    const allTracks = Array.from({ length: 70 }).map((_, i) => ({
      id: i + 1,
      title: i < 7 ? "mentaliizi - RIT7MIZYY" : `MÃºsica ${i + 1}`,
      artist: i < 7 ? "mentaliizi" : "Artista Desconhecido",
      cover: `https://picsum.photos/seed/music${i + 1}/400/400`,
      src: "sample1.mp3"
    }));


    function renderPage(num) {
      const start = (num - 1) * 10;
      const items = allTracks.slice(start, start + 10);

      cardList.innerHTML = items
        .map(
          m => `
        <div onclick="playTrack(${m.id})"
          class="bg-white rounded-xl shadow hover:shadow-lg cursor-pointer transition p-3 border border-blue-100">

          <img src="${m.cover}"
            class="w-full h-56 object-cover rounded-xl mb-3 shadow" />

          <h3 class="font-semibold text-lg text-blue-700">${m.title}</h3>
          <p class="text-sm text-blue-500">${m.artist}</p>
        </div>
      `
        ).join("");
    }


    function goPage(num) {
      currentPage = num;
      renderPage(num);
    }


    function playTrack(id) {
      const track = allTracks.find(t => t.id === id);
      if (!track) return;

      currentTrack = track;
      audio.src = track.src;
      audio.play();
      playBtn.textContent = "Pausar";

      playerInfo.innerHTML = `
        <img src="${track.cover}" class="w-12 h-12 rounded-lg object-cover shadow" />
        <div>
          <p class="font-medium text-sm text-blue-700">${track.title}</p>
          <p class="text-xs text-blue-500">${track.artist}</p>
        </div>
      `;
    }


    playBtn.onclick = () => {
      if (!audio.src) return;

      if (audio.paused) {
        audio.play();
        playBtn.textContent = "Pausar";
      } else {
        audio.pause();
        playBtn.textContent = "Tocar";
      }
    };


    audio.ontimeupdate = () => {
      if (!audio.duration) return;

      progressBar.style.width =
        (audio.currentTime / audio.duration) * 100 + "%";
    };


    // ðŸ” Buscar em nova aba
    document.getElementById("search").addEventListener("keydown", e => {
      if (e.key === "Enter") {
        const q = e.target.value.trim();
        if (q.length > 0)
          window.open(`search.html?q=${encodeURIComponent(q)}`, "_blank");
      }
    });

    renderPage(1);
  </script>

</body>
</html>
