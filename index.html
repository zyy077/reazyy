<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoundMini ‚Äì Biblioteca de M√∫sicas</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen flex flex-col">

  <!-- HEADER -->
  <header class="bg-white shadow-sm sticky top-0 z-20">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-xl font-bold">SoundMini</h1>

      <input id="search" placeholder="Buscar m√∫sicas..." 
             class="border px-3 py-2 rounded w-64" />

      <button class="bg-indigo-600 text-white px-3 py-2 rounded">Upload</button>
    </div>
  </header>


  <!-- LISTA -->
  <section class="max-w-6xl mx-auto px-4 py-6">
    <h2 class="text-xl font-semibold mb-4">Escolha sua m√∫sica</h2>

    <div id="card-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </section>


  <!-- PAGINAS -->
  <section class="pb-36">
    <div class="flex justify-center gap-2">
      ${[1,2,3,4,5,6,7].map(n => `
        <button onclick="goPage(${n})" 
          class="px-3 py-1 bg-white shadow rounded hover:bg-gray-100">${n}</button>
      `).join("")}
    </div>
  </section>


  <!-- PLAYER -->
  <footer class="fixed bottom-0 left-0 right-0 bg-white border-t shadow">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">

      <div id="player-info" class="flex items-center gap-3 w-64">
        <span class="text-gray-500 text-sm">Nenhuma faixa selecionada</span>
      </div>

      <div class="flex-1">
        <div class="bg-gray-200 h-2 rounded overflow-hidden">
          <div id="progress-bar" class="bg-indigo-600 h-2 w-0"></div>
        </div>
      </div>

      <button id="play-btn" class="px-4 py-2 bg-gray-200 rounded">Tocar</button>

      <audio id="audio"></audio>
    </div>
  </footer>



  <!-- SCRIPT -->
  <script>
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("play-btn");
    const playerInfo = document.getElementById("player-info");
    const progressBar = document.getElementById("progress-bar");
    const cardList = document.getElementById("card-list");

    let currentTrack = null;
    let currentPage = 1;

    // üî• 7 primeiras m√∫sicas especiais
    const allTracks = Array.from({ length: 70 }).map((_, i) => ({
      id: i + 1,
      title: i < 7 ? "mentaliizi - RIT7MIZYY" : `M√∫sica ${i + 1}`,
      artist: i < 7 ? "mentaliizi" : "Artista Desconhecido",
      cover: `https://picsum.photos/seed/music${i + 1}/300`,
      src: "sample1.mp3"
    }));


    function renderPage(num) {
      currentPage = num;
      const start = (num - 1) * 10;
      const end = num * 10;

      const items = allTracks.slice(start, end);

      cardList.innerHTML = items
        .map(m => `
        <div onclick="playTrack(${m.id})" 
          class="bg-white p-4 rounded shadow hover:shadow-lg cursor-pointer transition overflow-hidden">
          
          <img src="${m.cover}" class="w-full h-40 object-cover rounded mb-3" />

          <h3 class="font-semibold text-lg">${m.title}</h3>
          <p class="text-sm text-gray-500">${m.artist}</p>
        </div>
      `).join("");
    }


    function goPage(num) {
      renderPage(num);
    }


    function playTrack(id) {
      const track = allTracks.find(t => t.id === id);
      if (!track) return;

      currentTrack = track;
      audio.src = track.src;
      audio.play();
      playBtn.textContent = "Pausar";

      playerInfo.innerHTML = `
        <img src="${track.cover}" class="w-12 h-12 rounded object-cover" />
        <div>
          <p class="font-medium text-sm">${track.title}</p>
          <p class="text-xs text-gray-500">${track.artist}</p>
        </div>
      `;
    }


    playBtn.onclick = () => {
      if (!audio.src) return;

      if (audio.paused) {
        audio.play();
        playBtn.textContent = "Pausar";
      } else {
        audio.pause();
        playBtn.textContent = "Tocar";
      }
    };


    audio.ontimeupdate = () => {
      if (!audio.duration) return;

      progressBar.style.width =
        (audio.currentTime / audio.duration) * 100 + "%";
    };


    // üîç Buscar m√∫sica
    document.getElementById("search").addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const q = e.target.value.trim();
        if (q.length > 0)
          window.open(`search.html?q=${encodeURIComponent(q)}`, "_blank");
      }
    });

    // Renderiza a p√°gina 1
    renderPage(1);
  </script>

</body>
</html>
